# Prototypeパターン
## パターンの用途メリットなど
単にインスタンスのコピーができるというよりも、manager（Client役）によってコピー元のインスタンスを管理できる、
"複製するインスタンスが固定"のファクトリーパターンと違ってシステムやユーザーによって生成されるインスタンスをコピーするような用途が向いている。

## サンプル課題-マニュアル作成システム
マニュアルや何らかのリストをテキストでテンプレートのように登録し、コピーして追記したり、新規のテンプレートを登録できるシステムにしました。
テンプレートの編集や、新規作成がシステムの中で柔軟に利用できます。

## クラス図

## 宿題
- new ではなくてcloneしてインスタンスをコピーする
### 浅いコピー・深いコピー
- 浅いコピーはフィールドの参照までコピーされてしまう
- じゃあコピー元のインスタンスのフィールドを変更したらコピーされたインスタンスのフィールドも全部変わるかっていうとそういう意味ではなかった。
- 参照がコピーされるのはフィールドに使っている参照型のオブジェクト(配列、辞書、リスト)
    - string やint は別の値を代入すると参照先が変わるのに対して 参照型は参照先が同じまま
    - int プリミティブ string 何型でしょうか。stringは 参照型かどうかとimmutableかは別の概念
    - immutableは変更できない。(不変オブジェクト)
    - mutable は変更可能。
    - 例えばDocumnet はmutable
    - Randomはstaticクラス
    - newしてクラスを作るのは可変
    - stract(?) =値型 structure
    - deepcopy用のLISTとかがある。
    - 不変オブジェクトはシャローコピーで問題ない。
    - 可変オブジェクトはシャローコピーでは書き換えられてしまう。
    - json シリアライザーを利用する. 裏技的　しりあらいずできる必要がある。Iしりしあらいず
    - バイナリーフォーマッター (脆弱性があるよ)
    - string 参照がなのに
    - rubyのstringは可変！
    - string びるだーというのが　JAVA  C#にある
    - 符号プログラミング
- 深いコピー(ディープコピー)をするにはListなどをnewして作らないといけない
